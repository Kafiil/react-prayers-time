(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e){e.exports=["fajr","chorouq","dhuhr","asr","maghrib","ishae"]},27:function(e,t,a){e.exports=a(58)},32:function(e,t,a){},36:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),l=(a(32),a(9)),i=a.n(l),s=a(23),u=a(3),m=a(26),f=(a(35),a(36),a(10)),p=a.n(f),d=a(2),v=a.n(d),g=a(6),h=a.n(g);var E=function(){return r.a.createElement("div",{className:h.a.container},r.a.createElement("div",{className:h.a.row},r.a.createElement("div",{className:h.a.spinner})),r.a.createElement("div",{className:h.a.row},r.a.createElement("h1",null," Loading ")))},b=(a(54),a(22)),O=function(e){var t={};return b.forEach(function(a){t[a]=v()(function(e,t){var a=e.split(":"),n=Object(u.a)(a,2),r=n[0],c=n[1],o=new v.a;return o.date(t),o.hour(r),o.minute(c),o}(e[a],e.day))}),t},j=a(22),y=function(e){var t=e.prayer,a=Object(n.useState)(),c=Object(u.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(),s=Object(u.a)(i,2),m=s[0],f=s[1],p=O(t),d=function(){var e=Object.keys(p).filter(function(e){return v()().isBefore(p[e])});m=0===e.length?j[0]:e[0],f(m);var t=v()(p[m].diff(v()())).format("HH:mm");l(t)};Object(n.useEffect)(function(){d();var e=setInterval(d,6e4);return function(){clearInterval(e)}},[t]);var g=v()(t.date).format("dddd LL").match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ");return r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,t.city),r.a.createElement("h2",null,g),r.a.createElement("ul",null,j.map(function(e){return r.a.createElement("li",{key:e,className:e===m?"next-prayer":""},r.a.createElement("span",{className:"name"},e),r.a.createElement("span",{className:"time"},t[e]),e===m&&r.a.createElement("span",{className:"difference"},o))})),r.a.createElement("dl",null))},S=a(25),w=function(e){var t=e.values,a=e.onChange,n=e.value,c=t.map(function(e){return{value:e.id,label:e.name}});return r.a.createElement("div",{className:"select"},r.a.createElement(S.a,{options:c,menuPlacement:"top",styles:{},defaultValue:c.find(function(e){return e.value===n}),onChange:a}))},N="https://maroc-salat.herokuapp.com/",I=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Object.keys(Object(m.a)({},localStorage)).filter(function(e){return!t.includes(e)}).forEach(function(e){return localStorage.removeItem(e)})},_=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(),l=Object(u.a)(o,2),m=l[0],f=l[1],d=Object(n.useState)(+localStorage.getItem("id")||1),g=Object(u.a)(d,2),h=g[0],b=g[1];return Object(n.useEffect)(function(){function e(){return(e=Object(s.a)(i.a.mark(function e(){var t,a,n,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v()(),a="prayers_".concat(t.date(),"_").concat(t.month()),!localStorage.getItem("cities")){e.next=6;break}e.t0=JSON.parse(localStorage.getItem("cities")),e.next=9;break;case 6:return e.next=8,p.a.get("".concat(N,"city"));case 8:e.t0=e.sent.data;case 9:if(n=e.t0,c(n),localStorage.setItem("cities",JSON.stringify(n)),r="".concat(N,"prayer?month=").concat(t.month(),"&day=").concat(t.date()),!localStorage.getItem(a)){e.next=17;break}e.t1=JSON.parse(localStorage.getItem(a)),e.next=20;break;case 17:return e.next=19,p.a.get(r);case 19:e.t1=e.sent.data;case 20:o=e.t1,f(o),localStorage.setItem(a,JSON.stringify(o)),I("cities","id",a);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),Object(n.useEffect)(function(){localStorage.setItem("id",h)},[h]),r.a.createElement("div",{id:"main"},h&&m?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{prayer:m.find(function(e){return e.id===h})}),r.a.createElement(w,{value:h,values:a,onChange:function(e){return b(e.value)}})):r.a.createElement(E,null))};o.a.render(r.a.createElement(_,null),document.getElementById("root"))},6:function(e,t,a){e.exports={spinner:"spinner_spinner__3ahFg",container:"spinner_container__36_1M",row:"spinner_row__2zXui"}}},[[27,1,2]]]);
//# sourceMappingURL=main.9ec04ece.chunk.js.map