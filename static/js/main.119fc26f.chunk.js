(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(54)},28:function(e,t,a){},3:function(e,t,a){e.exports={spinner:"spinner_spinner__5ChKr",container:"spinner_container__2eKww",row:"spinner_row__IB347"}},32:function(e,t,a){},53:function(e){e.exports=["fajr","chorouq","dhuhr","asr","maghrib","ishae"]},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),l=(a(28),a(4)),o=a.n(l),s=a(16),u=a(17),m=a(18),d=a(20),p=a(19),f=a(21),h=(a(31),a(32),a(5)),g=a.n(h),v=a(2),E=a.n(v),y=(a(51),a(52),a(53)),S=function(e){var t=e.prayer,a=e.local,n=E()(t.date).locale(a).format("dddd LL");return"fr"===a&&(n=n.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")),r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,t.city),r.a.createElement("h2",null,n),r.a.createElement("ul",null,y.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement("span",{className:"name"},e),r.a.createElement("span",{className:"time"},t[e]))})),r.a.createElement("dl",null))},w=a(3),b=a.n(w);var I=function(){return r.a.createElement("div",{className:b.a.container},r.a.createElement("div",{className:b.a.row},r.a.createElement("div",{className:b.a.spinner})),r.a.createElement("div",{className:b.a.row},r.a.createElement("h1",null," Loading ")))},N=function(e){var t=e.values,a=e.onChange,n=e.value;return r.a.createElement("div",{className:"select"},r.a.createElement("select",{value:n,onChange:a},t.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})))},_="https://maroc-salat.herokuapp.com/",k=function(e,t){return e.name>t.name?1:t.name>e.name?-1:0},O=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e){var t=+e.target.value;localStorage.setItem("id",t);var n=a.state.prayers.filter(function(e){return e.id===t})[0];a.setState({current:n,id:t})},a.state={local:"fr"},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(o.a.mark(function e(){var t,a,n,r,c,i,l,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("cities")){e.next=6;break}return e.next=3,g.a.get("".concat(_,"city"));case 3:e.t0=k,t=e.sent.data.sort(e.t0),localStorage.setItem("cities",JSON.stringify(t));case 6:if(a=JSON.parse(localStorage.getItem("cities")),localStorage.getItem("id")||localStorage.setItem("id",a[0].id),n=+localStorage.getItem("id"),r=E()().date(),c=E()().month()+1,i="prayers_".concat(r,"_").concat(c),localStorage.getItem(i)){e.next=17;break}return e.next=15,g.a.get("".concat(_,"prayer?month=").concat(c,"&day=").concat(r));case 15:l=e.sent.data,localStorage.setItem(i,JSON.stringify(l));case 17:s=JSON.parse(localStorage.getItem(i)),this.setState({cities:a,id:n,prayers:s,current:s.filter(function(e){return e.id===n})[0]});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"main"},this.state.prayers?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{local:this.state.local,prayer:this.state.current}),r.a.createElement(N,{value:this.state.id,values:this.state.cities,onChange:this.onChange})):r.a.createElement(I,null))}}]),t}(n.Component);i.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.119fc26f.chunk.js.map