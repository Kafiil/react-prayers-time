(window.webpackJsonpsalat=window.webpackJsonpsalat||[]).push([[0],{21:function(e){e.exports=JSON.parse('{"fajr":{"ar":"\u0627\u0644\u0641\u062c\u0631","fr":"fajr"},"chorouq":{"fr":"chorouq","ar":"\u0627\u0644\u0634\u0631\u0648\u0642"},"dhuhr":{"fr":"dhuhr","ar":"\u0627\u0644\u0638\u0647\u0631"},"asr":{"fr":"asr","ar":"\u0627\u0644\u0639\u0635\u0631"},"maghrib":{"fr":"maghrib","ar":"\u0627\u0644\u0645\u063a\u0631\u0628"},"ishae":{"fr":"ishae","ar":"\u0627\u0644\u0639\u0634\u0627\u0621"}}')},36:function(e,t,r){e.exports=r(68)},41:function(e,t,r){},44:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(4),o=r.n(c),l=(r(41),r(3)),i=r(8),u=r.n(i),s=r(11),f=r(6),p=(r(43),r(44),r(1)),m=r.n(p),O=r(9),g=r(10),b=(r(46),r(47),{prayers:null,cities:localStorage.getItem("lang")&&localStorage.getItem("cities_".concat(localStorage.getItem("lang")))?localStorage.getItem("cities_".concat(localStorage.getItem("lang"))):null,id:+localStorage.getItem("id")||1,lang:localStorage.getItem("lang")||"ar",languages:["ar","fr"],time:new m.a}),y=a.a.createContext(b);function d(){var e=Object(O.a)(["\n  height: 100vh;\n"]);return d=function(){return e},e}function j(){var e=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return j=function(){return e},e}function v(){var e=Object(O.a)(["\n  width: 64px;\n  height: 64px;\n  flex: 1;\n  &:after {\n    content: ' ';\n    display: block;\n    width: 46px;\n    height: 46px;\n    margin: 1px;\n    border-radius: 50%;\n    border: 5px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: "," 1.2s linear infinite;\n  }\n"]);return v=function(){return e},e}function h(){var e=Object(O.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return h=function(){return e},e}var E=Object(g.b)(h()),w=g.a.div(v(),E),P=g.a.div(j()),S=Object(g.a)(P)(d());function x(){var e="fr"===Object(n.useContext)(y).lang?"Chargement en cours ...":"... \u062c\u0627\u0631 \u0627\u0644\u062a\u062d\u0645\u064a\u0644";return a.a.createElement(S,null,a.a.createElement(P,null,a.a.createElement(w,null),a.a.createElement("h1",null,e)))}function I(e){var t=e.format,r=Object(n.useContext)(y),c=r.cities,o=r.time,l=r.id,i=r.lang,u=c.find(function(e){return e.id===l}).name;return a.a.createElement("div",{className:"clock"},a.a.createElement("h1",null,u),a.a.createElement("h2",null,o.locale(i).format("dddd LL")),a.a.createElement("h2",null,a.a.createElement("span",null,m()(o).format(t||"HH:mm:ss"))))}var D=r(21),k=function(e){var t={};return Object.keys(D).forEach(function(r){t[r]=m()(function(e,t){var r=e.split(":"),n=Object(f.a)(r,2),a=n[0],c=n[1],o=new m.a;return o.date(t),o.hour(a),o.minute(c),o.second(0),o}(e[r],e.day))}),t},C=r(21),N=function(){var e=Object(n.useContext)(y),t=e.prayers,r=e.id,c=e.time,o=e.lang,l=t.find(function(e){return e.id===r}),i=Object(n.useState)(),u=Object(f.a)(i,2),s=u[0],p=u[1],O=Object(n.useState)(),g=Object(f.a)(O,2),b=g[0],d=g[1],j=k(l),v=function(){var e=Object.keys(j).filter(function(e){return c.isBefore(j[e])});b=0===e.length?C[0]:e[0],d(b);var t=m()(j[b].diff(c)).format("HH:mm:ss");p(t)};return Object(n.useEffect)(function(){v();var e=setInterval(v,1e3);return function(){clearInterval(e)}},[c]),a.a.createElement("div",{className:"card"},a.a.createElement("ul",null,Object.keys(C).map(function(e){return a.a.createElement("li",{style:{flexDirection:"row".concat("fr"===o?"":"-reverse")},key:e,className:e===b?"next-prayer":""},a.a.createElement("div",{className:"name"},C[e][o]),e===b&&a.a.createElement("div",{className:"difference"},s),a.a.createElement("div",{className:"time"},l[e]))})),a.a.createElement("dl",null))},_=r(34);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var H=function(e){var t=e.onChange,r=Object(n.useContext)(y),c=r.cities,o=r.id,i=c.map(function(e){return{value:e.id,label:e.name}}),u={singleValue:function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach(function(t){Object(l.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{padding:"20px 0"})}};return a.a.createElement("div",{className:"select"},a.a.createElement(_.a,{styles:u,options:i,menuPlacement:"top",value:i.find(function(e){return e.value===o}),onChange:t}))},G=r(33),R=r.n(G);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(r,!0).forEach(function(t){Object(l.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var T=function(){var e=Object(s.a)(u.a.mark(function e(t,r){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem(t)){e.next=6;break}return e.next=3,R.a.get(r);case 3:return n=e.sent.data,localStorage.setItem(t,JSON.stringify(n)),e.abrupt("return",n);case 6:return e.abrupt("return",JSON.parse(localStorage.getItem(t)));case 7:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),F=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Object.keys(J({},localStorage)).filter(function(e){return!t.includes(e)}).forEach(function(e){return localStorage.removeItem(e)})},Y="LOAD_CITIES",q="LOAD_PRAYERS";function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(r,!0).forEach(function(t){Object(l.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var U=function(e,t){switch(t.type){case"CHANGE_CITY":return localStorage.setItem("id",t.payload),M({},e,{id:t.payload});case"CHANGE_LANGUAGE":return localStorage.setItem("lang",t.payload),M({},e,{lang:t.payload});case"REFRESH_TIME":return M({},e,{time:t.payload});case Y:return M({},e,{cities:t.payload});case q:return M({},e,{prayers:t.payload});default:return e}};function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(r,!0).forEach(function(t){Object(l.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var K="https://maroc-salat.herokuapp.com/",Q=function(){var e=Object(n.useReducer)(U,b),t=Object(f.a)(e,2),r=t[0],c=t[1];return Object(n.useEffect)(function(){function e(){return(e=Object(s.a)(u.a.mark(function e(){var t,n,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="prayers_".concat(m()().date(),"_").concat(m()().month()+1),n="".concat(K,"prayer?month=").concat(m()().month()+1,"&day=").concat(m()().date()),e.next=4,T("cities_".concat(r.lang),"".concat(K,"city?lang=").concat(r.lang));case 4:return a=e.sent,c({type:Y,payload:a}),e.next=8,T(t,n);case 8:o=e.sent,c({type:q,payload:o}),F("id","cities_ar","cities_fr","lang",t);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[r.lang]),Object(n.useEffect)(function(){var e=setInterval(function(){return c({type:"REFRESH_TIME",payload:new m.a})},1e3);return function(){clearInterval(e)}}),a.a.createElement(y.Provider,{value:z({},r,{dispatch:c})},a.a.createElement("div",{id:"main"},a.a.createElement("select",{value:r.lang,onChange:function(e){return c({payload:e.target.value,type:"CHANGE_LANGUAGE"})}},r.languages.map(function(e){return a.a.createElement("option",{value:e,key:e},e)})),r.id&&r.prayers?a.a.createElement(a.a.Fragment,null,a.a.createElement(I,null),a.a.createElement(N,null),a.a.createElement(H,{onChange:function(e){return c({payload:e.value,type:"CHANGE_CITY"})}})):a.a.createElement(x,null)))};o.a.render(a.a.createElement(Q,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.322f7b5b.chunk.js.map