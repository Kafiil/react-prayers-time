(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e){e.exports=["fajr","chorouq","dhuhr","asr","maghrib","ishae"]},20:function(e,t,a){e.exports=a(50)},26:function(e,t,a){},30:function(e,t,a){},4:function(e,t,a){e.exports={spinner:"spinner_spinner__3ahFg",container:"spinner_container__36_1M",row:"spinner_row__2zXui"}},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),i=(a(26),a(5)),l=a.n(i),s=a(18),u=a(3),m=a(19),f=(a(29),a(30),a(6)),p=a.n(f),d=a(2),v=a.n(d),g=a(4),E=a.n(g);var h=function(){return r.a.createElement("div",{className:E.a.container},r.a.createElement("div",{className:E.a.row},r.a.createElement("div",{className:E.a.spinner})),r.a.createElement("div",{className:E.a.row},r.a.createElement("h1",null," Loading ")))},b=(a(49),a(16)),O=function(e){var t={};return b.forEach(function(a){t[a]=v()(function(e,t){var a=e.split(":"),n=Object(u.a)(a,2),r=n[0],c=n[1],o=new v.a;return o.date(t),o.hour(r),o.minute(c),o}(e[a],e.day))}),t},j=a(16),y=function(e){var t=e.prayer,a=Object(n.useState)(),c=Object(u.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(),s=Object(u.a)(l,2),m=s[0],f=s[1],p=O(t),d=function(){var e=Object.keys(p).filter(function(e){return v()().isBefore(p[e])});m=0===e.length?j[0]:e[0],f(m);var t=v()(p[m].diff(v()())).format("HH:mm");i(t)};Object(n.useEffect)(function(){d();var e=setInterval(d,6e4);return function(){clearInterval(e)}},[t]);var g=v()(t.date).format("dddd LL").match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ");return r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,t.city),r.a.createElement("h2",null,g),r.a.createElement("ul",null,j.map(function(e){return r.a.createElement("li",{key:e,className:e===m?"next-prayer":""},r.a.createElement("span",{className:"name"},e),r.a.createElement("span",{className:"time"},t[e]),e===m&&r.a.createElement("span",{className:"difference"},o))})),r.a.createElement("dl",null))},S=function(e){var t=e.values,a=e.onChange,n=e.value;return r.a.createElement("div",{className:"select"},r.a.createElement("select",{value:n,onChange:a},t.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})))},w="https://maroc-salat.herokuapp.com/",N=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Object.keys(Object(m.a)({},localStorage)).filter(function(e){return!t.includes(e)}).forEach(function(e){return localStorage.removeItem(e)})},k=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(),i=Object(u.a)(o,2),m=i[0],f=i[1],d=Object(n.useState)(+localStorage.getItem("id")||1),g=Object(u.a)(d,2),E=g[0],b=g[1];Object(n.useEffect)(function(){function e(){return(e=Object(s.a)(l.a.mark(function e(){var t,a,n,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v()(),a="prayers_".concat(t.date(),"_").concat(t.month()),!localStorage.getItem("cities")){e.next=6;break}e.t0=JSON.parse(localStorage.getItem("cities")),e.next=9;break;case 6:return e.next=8,p.a.get("".concat(w,"city"));case 8:e.t0=e.sent.data;case 9:if(n=e.t0,c(n),localStorage.setItem("cities",JSON.stringify(n)),r="".concat(w,"prayer?month=").concat(t.month(),"&day=").concat(t.date()),!localStorage.getItem(a)){e.next=17;break}e.t1=JSON.parse(localStorage.getItem(a)),e.next=20;break;case 17:return e.next=19,p.a.get(r);case 19:e.t1=e.sent.data;case 20:o=e.t1,f(o),localStorage.setItem(a,JSON.stringify(o)),N("cities","id",a);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),Object(n.useEffect)(function(){localStorage.setItem("id",E)},[E]);return r.a.createElement("div",{id:"main"},E&&m?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{prayer:m.find(function(e){return e.id===E})}),r.a.createElement(S,{value:E,values:a,onChange:function(e){var t=+e.target.value;b(t)}})):r.a.createElement(h,null))};o.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.6fa6ea5f.chunk.js.map