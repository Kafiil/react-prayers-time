(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e){e.exports=["fajr","chorouq","dhuhr","asr","maghrib","ishae"]},27:function(e,t,n){e.exports=n(58)},32:function(e,t,n){},36:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),u=n.n(c),o=(n(32),n(5)),l=n.n(o),i=n(8),s=n(3),m=(n(35),n(36),n(1)),f=n.n(m),p=n(7),d=n.n(p);var v=function(){return r.a.createElement("div",{className:d.a.container},r.a.createElement("div",{className:d.a.row},r.a.createElement("div",{className:d.a.spinner})),r.a.createElement("div",{className:d.a.row},r.a.createElement("h1",null," Loading ")))},E=(n(38),n(13)),b=function(e){var t={};return E.forEach(function(n){t[n]=f()(function(e,t){var n=e.split(":"),a=Object(s.a)(n,2),r=a[0],c=a[1],u=new f.a;return u.date(t),u.hour(r),u.minute(c),u}(e[n],e.day))}),t};function h(e){var t=e.format,n=Object(a.useState)(f()()),c=Object(s.a)(n,2),u=c[0],o=c[1];return Object(a.useEffect)(function(){var e=setInterval(function(){return o(f()())},1e3);return function(){clearInterval(e)}},[]),r.a.createElement("span",null,f()(u).format(t||"HH:mm:ss"))}var j=n(13),O=function(e){var t=e.prayer,n=Object(a.useState)(),c=Object(s.a)(n,2),u=c[0],o=c[1],l=Object(a.useState)(),i=Object(s.a)(l,2),m=i[0],p=i[1],d=b(t),v=function(){var e=Object.keys(d).filter(function(e){return f()().isBefore(d[e])});m=0===e.length?j[0]:e[0],p(m);var t=f()(d[m].diff(f()())).format("HH:mm");o(t)};Object(a.useEffect)(function(){v();var e=setInterval(v,6e4);return function(){clearInterval(e)}},[t]);var E=f()(t.date).format("dddd LL").match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ");return r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,t.city),r.a.createElement("h2",null,E),r.a.createElement("h2",null,r.a.createElement(h,null)),r.a.createElement("ul",null,j.map(function(e){return r.a.createElement("li",{key:e,className:e===m?"next-prayer":""},r.a.createElement("span",{className:"name"},e),r.a.createElement("span",{className:"time"},t[e]),e===m&&r.a.createElement("span",{className:"difference"},u))})),r.a.createElement("dl",null))},g=n(25),y=function(e){var t=e.values,n=e.onChange,a=e.value,c=t.map(function(e){return{value:e.id,label:e.name}});return r.a.createElement("div",{className:"select"},r.a.createElement(g.a,{options:c,menuPlacement:"top",defaultValue:c.find(function(e){return e.value===a}),onChange:n}))},w=n(26),S=n(24),N=n.n(S),I=function(){var e=Object(i.a)(l.a.mark(function e(t,n){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem(t)){e.next=6;break}return e.next=3,N.a.get(n);case 3:return a=e.sent.data,localStorage.setItem(t,JSON.stringify(a)),e.abrupt("return",a);case 6:return e.abrupt("return",JSON.parse(localStorage.getItem(t)));case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Object.keys(Object(w.a)({},localStorage)).filter(function(e){return!t.includes(e)}).forEach(function(e){return localStorage.removeItem(e)})},x="https://maroc-salat.herokuapp.com/",k=function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(a.useState)(+localStorage.getItem(e)||t),r=Object(s.a)(n,2),c=r[0],u=r[1];return Object(a.useEffect)(function(){localStorage.setItem(e,c)},[c]),[c,u]}("id",1),t=Object(s.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(),o=Object(s.a)(u,2),m=o[0],p=o[1],d=Object(a.useState)(),E=Object(s.a)(d,2),b=E[0],h=E[1],j="prayers_".concat(f()().date(),"_").concat(f()().month()+1),g="".concat(x,"prayer?month=").concat(f()().month()+1,"&day=").concat(f()().date());return Object(a.useEffect)(function(){function e(){return(e=Object(i.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("cities","".concat(x,"city"));case 2:return t=e.sent,p(t),e.next=6,I(j,g);case 6:n=e.sent,h(n),_("id","cities",j);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),r.a.createElement("div",{id:"main"},n&&b?r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{prayer:b.find(function(e){return e.id===n})}),r.a.createElement(y,{value:n,values:m,onChange:function(e){return c(e.value)}})):r.a.createElement(v,null))};u.a.render(r.a.createElement(k,null),document.getElementById("root"))},7:function(e,t,n){e.exports={spinner:"spinner_spinner__13LQm",container:"spinner_container__3X5jo",row:"spinner_row__297t4"}}},[[27,1,2]]]);
//# sourceMappingURL=main.eb81b727.chunk.js.map