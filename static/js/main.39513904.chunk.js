(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e){e.exports=["fajr","chorouq","dhuhr","asr","maghrib","ishae"]},19:function(e,t,a){e.exports=a(49)},25:function(e,t,a){},29:function(e,t,a){},4:function(e,t,a){e.exports={spinner:"spinner_spinner__3ahFg",container:"spinner_container__36_1M",row:"spinner_row__2zXui"}},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),l=(a(25),a(5)),i=a.n(l),s=a(18),u=a(3),m=(a(28),a(29),a(6)),f=a.n(m),p=a(1),d=a.n(p),v=a(4),g=a.n(v);var E=function(){return r.a.createElement("div",{className:g.a.container},r.a.createElement("div",{className:g.a.row},r.a.createElement("div",{className:g.a.spinner})),r.a.createElement("div",{className:g.a.row},r.a.createElement("h1",null," Loading ")))},h=(a(48),a(16)),b=function(e){var t={};return h.forEach(function(a){t[a]=d()(function(e,t){var a=e.split(":"),n=Object(u.a)(a,2),r=n[0],c=n[1],o=new d.a;return o.date(t),o.hour(r),o.minute(c),o}(e[a],e.day))}),t},O=a(16),y=function(e){var t=e.prayer,a=Object(n.useState)(),c=Object(u.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(),s=Object(u.a)(i,2),m=s[0],f=s[1],p=b(t),v=function(){var e=Object.keys(p).filter(function(e){return d()().isBefore(p[e])});m=0===e.length?O[0]:e[0],f(m);var t=d()(p[m].diff(d()())).format("HH:mm");l(t)};Object(n.useEffect)(function(){v();var e=setInterval(v,6e4);return function(){clearInterval(e)}},[t]);var g=d()(t.date).format("dddd LL").match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ");return r.a.createElement("div",{className:"card"},r.a.createElement("h1",null,t.city),r.a.createElement("h2",null,g),r.a.createElement("ul",null,O.map(function(e){return r.a.createElement("li",{key:e,className:e===m?"next-prayer":""},r.a.createElement("span",{className:"name"},e),r.a.createElement("span",{className:"time"},t[e]),e===m&&r.a.createElement("span",{className:"difference"},o))})),r.a.createElement("dl",null))},j=function(e){var t=e.values,a=e.onChange,n=e.value;return r.a.createElement("div",{className:"select"},r.a.createElement("select",{value:n,onChange:a},t.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})))},S="https://maroc-salat.herokuapp.com/",N=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(),l=Object(u.a)(o,2),m=l[0],p=l[1],v=Object(n.useState)(+localStorage.getItem("id")||1),g=Object(u.a)(v,2),h=g[0],b=g[1];Object(n.useEffect)(function(){function e(){return(e=Object(s.a)(i.a.mark(function e(){var t,a,n,r,o,l,s,u,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d()(),a=d()().subtract(1,"day"),n=d()().date(),r=d()().month()+1,o="prayers_".concat(n,"_").concat(r),l="prayers_".concat(a.date(),"_").concat(a.month()),!localStorage.getItem("cities")){e.next=10;break}e.t0=JSON.parse(localStorage.getItem("cities")),e.next=13;break;case 10:return e.next=12,f.a.get("".concat(S,"city"));case 12:e.t0=e.sent.data;case 13:if(s=e.t0,c(s),localStorage.setItem("cities",JSON.stringify(s)),u="".concat(S,"prayer?month=").concat(t.month(),"&day=").concat(t.date()),!localStorage.getItem(o)){e.next=21;break}e.t1=JSON.parse(localStorage.getItem(o)),e.next=24;break;case 21:return e.next=23,f.a.get(u);case 23:e.t1=e.sent.data;case 24:m=e.t1,p(m),localStorage.removeItem(l),localStorage.setItem(o,JSON.stringify(m));case 28:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),Object(n.useEffect)(function(){localStorage.setItem("id",h)},[h]);return r.a.createElement("div",{id:"main"},h&&m?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{prayer:m.find(function(e){return e.id===h})}),r.a.createElement(j,{value:h,values:a,onChange:function(e){var t=+e.target.value;b(t)}})):r.a.createElement(E,null))};o.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.39513904.chunk.js.map