(window.webpackJsonpsalat=window.webpackJsonpsalat||[]).push([[0],{22:function(e){e.exports=JSON.parse('["fajr","chorouq","dhuhr","asr","maghrib","ishae"]')},37:function(e,t,n){e.exports=n(67)},42:function(e,t,n){},45:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(4),o=n.n(c),i=(n(42),n(3)),u=n(8),l=n.n(u),s=n(11),f=n(6),p=(n(44),n(45),n(1)),O=n.n(p),m=n(9),b=n(10);function d(){var e=Object(m.a)(["\n  height: 100vh;\n"]);return d=function(){return e},e}function y(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return y=function(){return e},e}function j(){var e=Object(m.a)(["\n  width: 64px;\n  height: 64px;\n  flex: 1;\n  &:after {\n    content: ' ';\n    display: block;\n    width: 46px;\n    height: 46px;\n    margin: 1px;\n    border-radius: 50%;\n    border: 5px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: "," 1.2s linear infinite;\n  }\n"]);return j=function(){return e},e}function v(){var e=Object(m.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return v=function(){return e},e}var g=Object(b.b)(v()),h=b.a.div(j(),g),E=b.a.div(y()),w=Object(b.a)(E)(d());function P(){return a.a.createElement(w,null,a.a.createElement(E,null,a.a.createElement(h,null),a.a.createElement("h1",null,"Loading ...")))}n(21);var S={prayers:null,cities:null,id:+localStorage.getItem("id")||1,time:new O.a},x=a.a.createContext(S);function D(e){var t=e.format,n=Object(r.useContext)(x),c=n.cities,o=n.time,i=n.id,u=c.find(function(e){return e.id===i}).name;return a.a.createElement("div",{className:"clock"},a.a.createElement("h1",null,u),a.a.createElement("h2",null,o.format("dddd LL")),a.a.createElement("h2",null,a.a.createElement("span",null,O()(o).format(t||"HH:mm:ss"))))}var I=n(22),k=function(e){var t={};return I.forEach(function(n){t[n]=O()(function(e,t){var n=e.split(":"),r=Object(f.a)(n,2),a=r[0],c=r[1],o=new O.a;return o.date(t),o.hour(a),o.minute(c),o.second(0),o}(e[n],e.day))}),t},C=n(22),N=function(){var e=Object(r.useContext)(x),t=e.prayers,n=e.id,c=e.time,o=t.find(function(e){return e.id===n}),i=Object(r.useState)(),u=Object(f.a)(i,2),l=u[0],s=u[1],p=Object(r.useState)(),m=Object(f.a)(p,2),b=m[0],d=m[1],y=k(o),j=function(){var e=Object.keys(y).filter(function(e){return c.isBefore(y[e])});b=0===e.length?C[0]:e[0],d(b);var t=O()(y[b].diff(c)).format("HH:mm:ss");s(t)};return Object(r.useEffect)(function(){j();var e=setInterval(j,1e3);return function(){clearInterval(e)}},[c]),a.a.createElement("div",{className:"card"},a.a.createElement("ul",null,C.map(function(e){return a.a.createElement("li",{key:e,className:e===b?"next-prayer":""},a.a.createElement("div",{className:"name"},e),e===b&&a.a.createElement("div",{className:"difference"},l),a.a.createElement("div",{className:"time"},o[e]))})),a.a.createElement("dl",null))},H=n(35);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var R=function(e){var t=e.onChange,n=Object(r.useContext)(x),c=n.cities,o=n.id,u=c.map(function(e){return{value:e.id,label:e.name}}),l={singleValue:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{padding:"20px 0"})}};return a.a.createElement("div",{className:"select"},a.a.createElement(H.a,{styles:l,options:u,menuPlacement:"top",defaultValue:u.find(function(e){return e.value===o}),onChange:t}))},A=n(34),J=n.n(A);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F=function(){var e=Object(s.a)(l.a.mark(function e(t,n){var r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem(t)){e.next=6;break}return e.next=3,J.a.get(n);case 3:return r=e.sent.data,localStorage.setItem(t,JSON.stringify(r)),e.abrupt("return",r);case 6:return e.abrupt("return",JSON.parse(localStorage.getItem(t)));case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Object.keys(T({},localStorage)).filter(function(e){return!t.includes(e)}).forEach(function(e){return localStorage.removeItem(e)})},B="LOAD_CITIES",G="LOAD_PRAYERS";function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=function(e,t){switch(t.type){case"CHANGE_CITY":return localStorage.setItem("id",t.payload),V({},e,{id:t.payload});case"REFRESH_TIME":return V({},e,{time:t.payload});case B:return V({},e,{cities:t.payload});case G:return V({},e,{prayers:t.payload});default:return e}};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Q="https://maroc-salat.herokuapp.com/",U=function(){var e=Object(r.useReducer)(q,S),t=Object(f.a)(e,2),n=t[0],c=t[1],o="prayers_".concat(O()().date(),"_").concat(O()().month()+1),i="".concat(Q,"prayer?month=").concat(O()().month()+1,"&day=").concat(O()().date());return Object(r.useEffect)(function(){function e(){return(e=Object(s.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("cities","".concat(Q,"city"));case 2:return t=e.sent,c({type:B,payload:t}),e.next=6,F(o,i);case 6:n=e.sent,c({type:G,payload:n}),Y("id","cities",o);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),Object(r.useEffect)(function(){var e=setInterval(function(){return c({type:"REFRESH_TIME",payload:new O.a})},1e3);return function(){clearInterval(e)}}),a.a.createElement(x.Provider,{value:K({},n,{dispatch:c})},a.a.createElement("div",{id:"main"},n.id&&n.prayers?a.a.createElement(a.a.Fragment,null,a.a.createElement(D,null),a.a.createElement(N,null),a.a.createElement(R,{onChange:function(e){return c({payload:e.value,type:"CHANGE_CITY"})}})):a.a.createElement(P,null)))};o.a.render(a.a.createElement(U,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.132c1048.chunk.js.map